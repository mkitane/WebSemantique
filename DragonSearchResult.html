<!DOCTYPE html>
<html>
	<!-- Scripts -->
	<script src="public/js/result.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>	
    <script type="text/javascript" src="public/js/vivagraph.js"></script>

 <!-- Stylesheet -->
 <link href="public/css/style.css" rel="stylesheet">
 <link href="public/css/bootstrap-theme.min.css" rel="stylesheet">
 <link href="public/css/bootstrap.min.css" rel="stylesheet">
 <link href='http://fonts.googleapis.com/css?family=Lato:400,300,100' rel='stylesheet' type='text/css'>
 
 <!-- En-tÃªte de la page -->
    <head>
        <meta charset="utf-8" />
        <title>DragonSearch</title>
    </head>
  
    <!-- Corps de la page -->
    <body onload="sendRequest();main();">
        <div class="Moreno">
        <form role="form" action="./DragonSearchResult.html">
            <input name="searchTerm" class="form-controle"  type="text" ></input>
            <input value="Search" class="bouttonB" type="submit" />
        </form>
        </div>
		<div class="container" >
      		<div class="GoogleContainer">
            		<h3 class="resultText">Google Results</h3>
                <div id="GS"></div>
          </div>
          <div class="DragonContainer">
                <h3 class="resultText">Dragon Search Results</h3>
                <div id="DS"></div>
          </div>		
		</div>
    <div class="containerGraph">
          <div id="graphDiv"></div>
    </div>
		<div id="containerloader">
            <div class="windows8">
                  <div class="wBall" id="wBall_1">
                  <div class="wInnerBall">
                  </div>
                  </div>
                  <div class="wBall" id="wBall_2">
                  <div class="wInnerBall">
                  </div>
                  </div>
                  <div class="wBall" id="wBall_3">
                  <div class="wInnerBall">
                  </div>
                  </div>
                  <div class="wBall" id="wBall_4">
                  <div class="wInnerBall">
                  </div>
                  </div>
                  <div class="wBall" id="wBall_5">
                  <div class="wInnerBall">
                  </div>
                  </div>
                  </div> 
            </div>
    </body>
</html>








<script type="text/javascript">
        function main () {
            var graph = Viva.Graph.graph();
            

            var data = [['http://www.bordeaux.com/us', 'https://twitter.com/bordeaux'], ['http://www.bordeaux.com/us', 'http://www.bordeaux-tourism.co.uk/'], ['http://en.wikipedia.org/wiki/Bordeaux_wine', 'http://www.wine-searcher.com/regions-bordeaux'], ['http://whc.unesco.org/en/list/1256', 'http://fr.bordeaux-tourisme.com/'], ['https://twitter.com/bordeaux', 'http://fr.bordeaux-tourisme.com/']];


            for(var i=0; i<data.length; i++)
            {
                graph.addLink( data[i][0], data[i][1]);
            }
          
            
            generateGraph(graph);
        
        }



        function generateGraph(graph)
        {
            var graphics = Viva.Graph.View.svgGraphics();
            var nodeSize = 10;
            graphics.node(function(node) {
              // This time it's a group of elements: http://www.w3.org/TR/SVG/struct.html#Groups
              var ui = Viva.Graph.svg('g'),
                  // Create SVG text element with user id as content
                  svgText = Viva.Graph.svg('text').attr('y', '-4px').text(node.id),
                  img = Viva.Graph.svg('rect')
                     .attr('width', nodeSize)
                     .attr('height', nodeSize);
              ui.append(svgText);
              ui.append(img);
              return ui;
            }).placeNode(function(nodeUI, pos) {
                // 'g' element doesn't have convenient (x,y) attributes, instead
                // we have to deal with transforms: http://www.w3.org/TR/SVG/coords.html#SVGGlobalTransformAttribute
                nodeUI.attr('transform',
                            'translate(' +
                                  (pos.x - nodeSize/2) + ',' + (pos.y - nodeSize/2) +
                            ')');
            });



            graphics.link(function(link){
                return Viva.Graph.svg('path')
                           .attr('stroke', 'black')
                           .attr('stroke-width', Math.random()*3);
            }).placeLink(function(linkUI, fromPos, toPos) {
                // linkUI - is the object returend from link() callback above.
                var data = 'M' + fromPos.x + ',' + fromPos.y +
                           'L' + toPos.x + ',' + toPos.y;
                // 'Path data' (http://www.w3.org/TR/SVG/paths.html#DAttribute )
                // is a common way of rendering paths in SVG:
                linkUI.attr("d", data);
            });


            // Render the graph
           // Render the graph
            var renderer = Viva.Graph.View.renderer(graph, {
                    graphics : graphics,
                    container  : document.getElementById('graphDiv')
                });
            renderer.run();
        }
    </script>